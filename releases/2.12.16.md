# Scala 2.12.16

This release improves compatibility with recent JDKs:

* Use ASM 9.3, enabling JDK 19 support  ([#10000](https://github.com/scala/scala/pull/10000))
* Make `-target` support JDK 8 through 19 (and deprecate 5 through 7) ([#9916](https://github.com/scala/scala/pull/9916))
* Fix codegen for `MethodHandle.invoke` (et al) under JDK 17 `-release` ([#9930](https://github.com/scala/scala/pull/9930))
* Deprecate `AnyVal#formatted(formatString)`, to avoid conflict with JDK 15+ method ([#9783](https://github.com/scala/scala/pull/9783))

and aids cross-compiling with Scala 3:

* Allow `?` as a wildcard even without `-Xsource:3` ([#10005](https://github.com/scala/scala/pull/10005))

and improves security and error reporting:

* Error on source files with Unicode directional formatting characters ([#10023](https://github.com/scala/scala/pull/10023), [#10030](https://github.com/scala/scala/pull/10030))
* Fix range position end for infix calls ([#9761](https://github.com/scala/scala/pull/9761))

For complete 2.12.16 change lists, see [all merged PRs](https://github.com/scala/scala/pulls?q=is%3Amerged%20milestone%3A2.12.16) and [all closed bugs](https://github.com/scala/bug/issues?utf8=%E2%9C%93&q=is%3Aclosed+milestone%3A2.12.16).

## Known issues

Scala 2.12.16 contains a [known regression](https://github.com/scala/bug/issues/12605) that was discovered after the artifacts were released.

In mixed compilation, all Java and Scala source files of a project are passed to the Scala compiler (`CompileOrder.Mixed` in sbt, enabled by default). In this mode, the Scala compiler can build incorrect type representations for certain references to Java nested classes, which can lead to false type mismatch errors and cause a project not to compile. Example:

```java
public class C {
  public class I { public class J {} }
  public void t(I.J j) {}
}
```

The Scala code `val c = new C(); val i = new c.I(); c.t(new i.J())` fails to compile (`found: O.i.J, required: I.this.J`). Separate compilation (`CompileOrder.JavaThenScala`) works correctly.

## Compatibility

As usual for our minor releases, Scala 2.12.16 is binary-compatible with the whole Scala 2.12 series.

## Contributors

A big thank you to everyone who's helped improve Scala by reporting bugs, improving our documentation, spreading kindness in discussions around Scala, and submitting and reviewing pull requests! You are all magnificent.

This release was brought to you by 18 contributors, according to `git shortlog -sn --no-merges @ ^v2.12.15 ^2.11.x`. Thank you Scala Steward, Seth Tisue, Lukas Rytz, Sébastien Doeraene, A. P. Marki, Daniel Le, Jason Zaugg, Guillaume Martres, Frank Thomas, Philippus, Daniela Sfregola, Dale Wijnand, Vadzim Marchanka, hepin.p, naferx, Fredrik Svensson, Štefan Jurčo, Georgi Krastev.

Thanks to [Lightbend](https://www.lightbend.com/scala) for their continued sponsorship of the Scala core team’s efforts. Lightbend offers [commercial support](https://www.lightbend.com/lightbend-platform-subscription) for Scala.

## Scala 2.12 notes

The [release notes for Scala 2.12.0](https://github.com/scala/scala/releases/v2.12.0) have important information applicable to the whole 2.12 series.

## Obtaining Scala

Scala releases are available through a variety of channels, including (but not limited to):

* Bump the `scalaVersion` setting in your sbt-based project
* Download a distribution from [scala-lang.org](http://scala-lang.org/download/2.12.16.html)
* Obtain JARs via [Maven Central](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.scala-lang%22%20AND%20v%3A%222.12.16%22)
